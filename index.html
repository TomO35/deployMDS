<!DOCTYPE html>
<html style="height: 100%">

<head>
    <meta charset="utf-8">
    <title>My Ubuntu server VM</title>
</head>

<body style="height: 3000">
    <h1 style="color: greenyellow">VM UBUNTU SERVER powered by NGINX</h1>
    <!--<iframe id="inlineFrameExample" title="Inline Frame Example" width="90%" height="90%" src="http://52.47.125.5:80">
    </iframe>-->
</body>

<script>
    var gifs = ["https://vignette.wikia.nocookie.net/mlp/images/8/8f/Pyro_8_bit.gif/revision/latest?cb=20140427114131","https://media.giphy.com/media/jjBmeA29nxCrm/giphy.gif","https://i.pinimg.com/originals/84/ac/64/84ac64ec309108fad6172ef6b6a869c7.gif","https://vignette.wikia.nocookie.net/animal-jam-clans-1/images/e/e1/Post-42756-8bit-doge-gif-Imgur-shiba-inu-xpU3.gif/revision/latest?cb=20170214012202","https://media.giphy.com/media/ccMYCFtPpPxBK/giphy.gif","http://3.bp.blogspot.com/-USE8UeJwKqY/VQ_yi7xe5EI/AAAAAAAAOnk/aTZ5SXtmQZE/s1600/16%2Bbit%2B1.gif","https://media0.giphy.com/media/3o7WIGxb4UDlYxZa1O/200w_d.gif","https://orig00.deviantart.net/05ec/f/2013/185/9/a/rolling_8_bit_fox_gif_by_jjbanton-d6bkd36.gif","https://vignette.wikia.nocookie.net/lgdc/images/0/02/Pikachu.gif/revision/latest?cb=20170525120150&path-prefix=fr","http://24.media.tumblr.com/tumblr_mdax53xFDb1r1n4i2o1_r2_500.gif","https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQNM_otUrH0Zcpt9p8DzzqgZtIrIxe89humTZYBLMx2DMNVmkHP","https://lombrik.files.wordpress.com/2016/01/pxl-pixel-art-retro-game-games-gif-space-invaders-8-16-bit-video-joystick-hyper-orange-spaceship-space-star-arcade-cabinet-anim.gif"];

    var l = gifs.length,
	wrapper = document.body,
	lastNum = 0;
console.log(l);
//MAKE IT RAIN ðŸ’µðŸ’´ðŸ’·ðŸ’¶
(window.gifRain = function() {

	var gif = document.createElement('div');

	var randomNum = Math.floor((Math.random() * l) + 0);

	//Randon top/left
	var randomTop = (Math.floor(Math.random() * (document.body.clientHeight - 200)) + 150) * -1,
		randomLeft = Math.floor(Math.random() * (document.body.clientWidth)) + 1;

	//Random width/height and random transition time
	var wANDh = (Math.floor(Math.random() * 200) + 75),
		seconds = (Math.floor(Math.random() * 5) + 5);

	//When equal I use the giphy api to return a random #pizza gif.
	if (lastNum == randomNum) {
		console.log(randomNum)
		q = "pizza"; // search query

		request = new XMLHttpRequest;
		request.open('GET', 'https://api.giphy.com/v1/gifs/random?api_key=dc6zaTOxFJmzC&tag=' + q, true);

		request.onload = function() {
			if (request.status >= 200 && request.status < 400) {
				data = JSON.parse(request.responseText).data.image_url;
				console.log(data + ' ' + 'random gif loaded');
				gif.style.backgroundImage = 'url(' + data + ')';
				gif.classList += 'gif random';
				gif.style.left = randomLeft + 'px';
				gif.style.top = randomTop + 'px';
				gif.style.width = wANDh + 'px';
				gif.style.height = wANDh + 'px';
				gif.style.transition = "transform " + seconds + 's linear';

				lastNum = randomNum;
				wrapper.appendChild(gif);

				//Set top to trigger animation
				setTimeout(function() {
					gif.style.transform = "translateY(" + (document.body.clientHeight * 2) + 'px)';
				}, 100)

				//Remove old gifs
				setTimeout(function() {
					wrapper.removeChild(gif);
				}, seconds * 1000);
			} else {
				console.log('reached giphy, but API returned an error');
			}
		};

		request.onerror = function() {
			console.log('connection error');
		};

		request.send();
	} else {

		gif.style.backgroundImage = 'url(' + gifs[randomNum] + ')';
		gif.classList += 'gif';
		gif.style.left = randomLeft + 'px';
		gif.style.top = randomTop + 'px';
		gif.style.width = wANDh + 'px';
		gif.style.height = wANDh + 'px';
		gif.style.transition = "transform " + seconds + 's linear';

		lastNum = randomNum;
		wrapper.appendChild(gif);

		//Set top to trigger animation
		setTimeout(function() {
			gif.style.transform = "translateY(" + (document.body.clientHeight * 2) + 'px)';
		}, 100)

		//Remove old gifs
		setTimeout(function() {
			//wrapper.removeChild(gif);
		}, seconds * 1000);
	}

})();

//Rain em down baby
setInterval(function() {
	gifRain();
}, 500);
</script>

</html>